<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Project Military - Beli Pack</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    h1 {
      margin-bottom: 30px;
      text-align: center;
    }

    .pack {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 14px;
      width: 100%;
      max-width: 400px;
      margin: 20px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      text-align: center;
    }

    .pack button {
      padding: 12px;
      background: #00c853;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      transition: background 0.2s;
    }

    .pack button:hover {
      background: #00a643;
    }

    .popup {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .popup-content {
      background: white;
      color: black;
      padding: 25px;
      border-radius: 14px;
      text-align: center;
      width: 90%;
      max-width: 350px;
    }

    input {
      padding: 10px;
      width: 100%;
      margin-top: 10px;
      border-radius: 8px;
      border: none;
      background: #eee;
    }

    .hidden {
      display: none;
    }

    .kodebox {
      background: #eee;
      color: #000;
      padding: 10px;
      margin-top: 15px;
      border-radius: 8px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>üéÅ Pilih Pack dan Masukkan Jumlah Transfer</h1>

  <div class="pack">
    <h2>Reguler Pack</h2>
    <p>Rp 2.000 ‚Äì 10.000</p>
    <button onclick="openPopup('Reguler')">Beli Sekarang</button>
  </div>

  <div class="pack">
    <h2>Exclusive Pack</h2>
    <p>Rp 20.000 ‚Äì 50.000</p>
    <button onclick="openPopup('Exclusive')">Beli Sekarang</button>
  </div>

  <div class="pack">
    <h2>Super Exclusive</h2>
    <p>Rp 60.000 ‚Äì 100.000 (Stok 3)</p>
    <button onclick="openPopup('Super')">Beli Sekarang</button>
  </div>

  <!-- POPUP -->
  <div id="popup" class="popup hidden">
    <div class="popup-content">
      <h3>Masukkan Jumlah Transfer (Dana)</h3>
      <input type="number" id="jumlahInput" placeholder="Contoh: 10000" />
      <button onclick="prosesPembelian()">Lanjutkan</button>
      <p id="hasilKode" class="kodebox hidden"></p>
      <p id="pesanError" style="color:red;"></p>
      <button onclick="closePopup()" style="margin-top:10px;background:#aaa;">Tutup</button>
    </div>
  </div>

  <script>
    const kodeReguler = ["PM-LV7KXE", "PM-QYZJ9F", "PM-B9SKGC"];
    const kodeExclusive = ["PM-JELR5Q", "PM-XF4PYB", "PM-RA6XNU"];
    const kodeSuper = ["PM-MWPJTY", "PM-Z86LUW", "PM-VBQN5R"];
    let selectedPack = "";

    function openPopup(pack) {
      selectedPack = pack;
      document.getElementById("jumlahInput").value = "";
      document.getElementById("hasilKode").classList.add("hidden");
      document.getElementById("pesanError").innerText = "";
      document.getElementById("popup").classList.remove("hidden");
    }

    function closePopup() {
      document.getElementById("popup").classList.add("hidden");
    }

    function ambilKode(kodeList) {
      const belumDipakai = kodeList.filter(k => !localStorage.getItem("used_" + k));
      if (belumDipakai.length === 0) return "‚ùå Stok habis!";
      const kode = belumDipakai[Math.floor(Math.random() * belumDipakai.length)];
      localStorage.setItem("used_" + kode, true);
      return kode;
    }

    function prosesPembelian() {
      const jumlah = parseInt(document.getElementById("jumlahInput").value);
      const pesan = document.getElementById("pesanError");
      const hasil = document.getElementById("hasilKode");
      pesan.innerText = "";
      hasil.classList.add("hidden");

      if (isNaN(jumlah)) {
        pesan.innerText = "Masukkan nominal yang valid!";
        return;
      }

      let kode = "";
      if (selectedPack === "Reguler" && jumlah >= 2000 && jumlah <= 10000) {
        kode = ambilKode(kodeReguler);
      } else if (selectedPack === "Exclusive" && jumlah >= 20000 && jumlah <= 50000) {
        kode = ambilKode(kodeExclusive);
      } else if (selectedPack === "Super" && jumlah >= 60000 && jumlah <= 100000) {
        kode = ambilKode(kodeSuper);
      } else {
        pesan.innerText = "Jumlah tidak sesuai dengan range pack.";
        return;
      }

      hasil.innerText = `üéâ Kode kamu: ${kode}`;
      hasil.classList.remove("hidden");
    }
  </script>
</body>
</html>
